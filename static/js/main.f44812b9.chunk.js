(this["webpackJsonpreact-audio-recorder"]=this["webpackJsonpreact-audio-recorder"]||[]).push([[0],{23:function(e,t,n){e.exports=n.p+"static/media/logo.5d5d9eef.svg"},31:function(e,t,n){e.exports=n(44)},36:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){"use strict";n.r(t);var r,a=n(0),o=n.n(a),c=n(22),i=n.n(c),l=(n(36),n(14)),u=n(8),s=n(23),d=n.n(s),m=function(){return o.a.createElement("div",null,o.a.createElement("header",{className:"App-header"},o.a.createElement("h1",null,"React Audio Recorder"),o.a.createElement("h2",null,"Target"),o.a.createElement("span",null,"iOS/Android"),o.a.createElement("img",{src:d.a,className:"App-logo",alt:"logo"}),o.a.createElement(l.b,{to:"/samples"},"CLICK HERE")))},g=function(){var e=!!(navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia),t=!!window.AudioContext||!!window.webkitAudioContext;return o.a.createElement("ul",null,o.a.createElement("li",null,o.a.createElement("b",null,"User-Agent:")," ",navigator.userAgent),o.a.createElement("li",null,o.a.createElement("b",null,"getUserMedia API:")," ",e?"yes":"no"),o.a.createElement("li",null,o.a.createElement("b",null,"AudioContext:")," ",t?"yes":"no"))},p=n(11),f=n(7),v=n(25),b=n.n(v),h=n(26);!function(e){e[e.Stop=0]="Stop",e[e.Start=1]="Start"}(r||(r={}));var E=function(){var e=Object(a.useState)(r.Stop),t=Object(p.a)(e,2),n=t[0],c=t[1],i=Object(a.useState)(!1),l=Object(p.a)(i,2),u=l[0],s=l[1],d=Object(a.useRef)(null);return o.a.createElement(w,null,o.a.createElement(y,null,o.a.createElement(R,{record:n===r.Start,onStop:function(e){var t=b()().format("YYYYMMDDHHmmss");console.log(t),console.log(e);var n=window.URL||window.webkitURL;d.current?(console.log("attach audio BlobURL to DOM"),d.current.src=n.createObjectURL(e.blob)):console.log("can not attach Blob because of audioEl is null"),s(!0)},strokeColor:"white",backgroundColor:"#f14c00",mimeType:"audio/wav"})),o.a.createElement("div",null,"\u518d\u751f\u6642\u9593"),o.a.createElement("input",{type:"button",name:"start",value:"start Recording",onClick:function(){console.log("start"),c(r.Start)}}),o.a.createElement("input",{type:"button",name:"stop",value:"stop Recording",onClick:function(){console.log("stop"),c(r.Stop)}}),o.a.createElement("div",{style:{display:u?"":"none"}},o.a.createElement(x,{ref:d,controls:!0})))},w=f.a.div.withConfig({displayName:"Recording__Record",componentId:"sc-1kgjmd4-0"})(["text-align:center;width:200px;height:160px;padding:20px;border-radius:4px;background-color:#f14c00;color:",";"],"#FFF"),y=f.a.div.withConfig({displayName:"Recording__Status",componentId:"sc-1kgjmd4-1"})(["color:white;"]),R=Object(f.a)(h.a).withConfig({displayName:"Recording__Mic",componentId:"sc-1kgjmd4-2"})(["width:100%;"]),x=f.a.audio.withConfig({displayName:"Recording__Audio",componentId:"sc-1kgjmd4-3"})(["width:100%;margin:10px 0;"]),k=n(6),j=n.n(k),U=n(19),O=n(12),C=n.n(O);console.log(C.a),console.log(O.StereoAudioRecorder);var M=function(){var e=Object(a.useMemo)((function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)}),[]),t=Object(a.useRef)(null),n=Object(a.useRef)(null),r=Object(a.useRef)(null),c=Object(a.useRef)(null),i=Object(a.useState)(!1),l=Object(p.a)(i,2),u=l[0],s=l[1],d=function(){var e=Object(U.a)(j.a.mark((function e(){var n;return j.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.current){e.next=2;break}return e.abrupt("return",t.current);case 2:if(alert(navigator),alert(navigator.getUserMedia),alert(navigator.mediaDevices),alert(navigator.mediaDevices.getUserMedia),navigator&&navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.next=10;break}throw alert("This browser doesn't supports getUserMedia API."),navigator.getUserMedia&&console.log("This browser uses deprecated getUserMedia API."),new Error("can't use VoiceRecorder Component");case 10:return e.prev=10,e.next=13,navigator.mediaDevices.getUserMedia({audio:{echoCancellation:!1}});case 13:return n=e.sent,e.abrupt("return",n);case 17:throw e.prev=17,e.t0=e.catch(10),alert("Unable to capture your microphone."),e.t0;case 21:case"end":return e.stop()}}),e,null,[[10,17]])})));return function(){return e.apply(this,arguments)}}(),m=function(){var a=Object(U.a)(j.a.mark((function a(o){var c;return j.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:if(o.preventDefault(),t.current){a.next=8;break}return a.next=4,d();case 4:if(t.current=a.sent,!e){a.next=8;break}return alert("Please click startRecording button again. First time we tried to access your microphone. Now we will record it."),a.abrupt("return");case 8:r.current&&(r.current.muted=!0,r.current.srcObject=t.current),c={type:"audio",numberOfAudioChannels:2,checkForInactiveTracks:!0,bufferSize:16384,recorderType:O.StereoAudioRecorder},n.current&&(n.current.destroy(),n.current=null),n.current=C()(t.current,c),console.log(n.current),u||s(!0);case 14:case"end":return a.stop()}}),a)})));return function(e){return a.apply(this,arguments)}}();return Object(a.useEffect)((function(){console.log("useEffect recording: ".concat(u)),console.log("useEffect microphone: ".concat(t.current)),console.log("useEffect recorder: ".concat(n.current)),u&&t.current?(console.log("start recording"),n.current&&n.current.startRecording()):!u&&t.current&&n.current&&"recording"===n.current.state?(console.log("stop recording"),n.current&&n.current.stopRecording((function(){if(console.log("STOP Recording callback"),c.current&&n.current){var e=URL.createObjectURL(n.current.getBlob());console.log(e),c.current.src=e,console.log("resultEl is ready to play")}}))):console.log("something wrong")}),[u,t,n]),Object(a.useEffect)((function(){"undefined"!==typeof navigator&&"undefined"===typeof navigator.getUserMedia&&("undefined"!==typeof navigator.webkitGetUserMedia&&(navigator.getUserMedia=navigator.webkitGetUserMedia),"undefined"!==typeof navigator.mozGetUserMedia&&(navigator.getUserMedia=navigator.mozGetUserMedia)),alert("navigator.getUserMedia: ".concat(navigator.getUserMedia))}),[]),console.log("This browser is Safari or not: ".concat(e)),o.a.createElement(S,null,o.a.createElement(A,null,o.a.createElement(I,{name:"start",value:"START",onClick:m}),o.a.createElement(I,{name:"stop",value:"STOP",onClick:function(e){e.preventDefault(),u&&s(!1)}})),o.a.createElement("div",null,o.a.createElement(_,{ref:r,controls:!0}),o.a.createElement(_,{ref:c,controls:!0})))},S=f.a.div.withConfig({displayName:"VoiceRecorder__Container",componentId:"sc-627jdc-0"})(["width:80%;height:200px;display:flex;justify-content:center;flex-direction:column;background-color:#f14c00;margin:0 auto;padding:20px;text-align:center;border-radius:4px;"]),A=f.a.div.withConfig({displayName:"VoiceRecorder__Control",componentId:"sc-627jdc-1"})(["display:flex;justify-content:space-around;"]),_=f.a.audio.withConfig({displayName:"VoiceRecorder__Audio",componentId:"sc-627jdc-2"})(["width:80%;margin:10px 0;"]),I=f.a.input.attrs({type:"button"}).withConfig({displayName:"VoiceRecorder__Button",componentId:"sc-627jdc-3"})(["width:30%;height:30px;background-color:#fff;border-radius:12px;"]),D=function(){return o.a.createElement("div",null,o.a.createElement("div",null,o.a.createElement(g,null)),o.a.createElement("div",null,o.a.createElement("h2",null,"1. cleandersonlobo/react-mic"),o.a.createElement(E,null)),o.a.createElement("div",null,o.a.createElement("h2",null,"VoiceRecorder"),o.a.createElement(M,null)))},N=function(){return o.a.createElement(l.a,null,o.a.createElement(u.d,null,o.a.createElement(u.b,{exact:!0,path:"/"},o.a.createElement(u.a,{to:"/top"})),o.a.createElement(u.b,{exact:!0,path:"/top",component:m}),o.a.createElement(u.b,{exact:!0,path:"/samples",component:D}),o.a.createElement(u.b,{path:"*"},o.a.createElement(u.a,{to:"/top"}))))};n(43);var T=function(){return o.a.createElement(N,null)};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(o.a.createElement(T,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[31,1,2]]]);
//# sourceMappingURL=main.f44812b9.chunk.js.map